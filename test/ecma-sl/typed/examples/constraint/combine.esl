function _intStringBoolean(): int | string | boolean {
	return 10
};

function _intAbc(): int | "abc" {
	return 10
};

function main() {
	foo: int | string | boolean := _intStringBoolean();
	bar: int | "abc" := _intAbc();

	if (typeof(foo) = __$Int || typeof(foo) = __$Bool) {
		x: int | boolean := foo;		/* Valid */
		y: int := foo;							/* BadValue: int <- boolean */
		z: string := foo;						/* BadValue: string <- int */
		w: boolean := foo						/* BadValue: boolean <- int */
	} else {
		x: int := foo;							/* BadValue: int <- string */
		y: string := foo;						/* Valid */
		z: boolean := foo						/* BadValue: boolean <- string */
	};

	if (typeof(bar) = __$Str || bar = 10) {
		x: "abc" | 10 := bar;				/* Valid */
		y: "abc" := bar;						/* BadValue: "abc" <- 10 */
		z: int := bar								/* BadValue: int <- "abc" */
	};

	if (foo = bar) {
		x: int | "abc" := foo;			/* Valid */
		y: int | "abc" := bar;			/* Valid */
		z: int := foo;							/* BadValue: int <- "abc" */
		w: int := bar								/* BadValue: int <- "abc" */
	};

	if (foo = bar && typeof(foo) = __$Str) {
		x: "abc" := foo;
		y: "abc" := bar							/* BadValue: "abc" <- int */
	};

	if (bar = "abc" && typeof(bar) = __$Int) {
		x: int := bar								/* BadValue: int <- never */
	};

	return 0
}