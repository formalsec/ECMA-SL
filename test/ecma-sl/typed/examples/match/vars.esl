function _sigma() : sigma[type] { type: "foo", foo: int } | { type: "bar" } {
	return { type: "foo", foo: 10 }
};

function main() {
	x: sigma[type] { type: "foo", foo: int } | { type: "bar" } := _sigma();

	match x with
	| { type: "foo", foo: foo } -> {
		x: int := foo;					/* Valid */
		x: string := foo				/* BadValue: string <- int */
	}
	| { type: "bar" } -> {
		test: int := foo				/* UnknownVar: x */
	};

	return 0
}