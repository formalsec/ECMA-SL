function _sigma() : sigma[type] { type: "foo", foo: int } | { type: "bar" } {
	return { type: "foo", foo: 10 }
};

function main() {
	x: sigma[type] { type: "foo", foo: int } | { type: "bar" } := _sigma();

	match x with
	| { type: "foo" } -> {} 		/* Valid */
	| { type: "bar" } -> {} 		/* Valid */
	| { type: temp } -> {}			/* BadDiscriminant: type */
	| { foo: foo } -> {}				/* MissingDiscriminant: type */
	| { type: "baz" } -> {};		/* UnknownDiscriminant: "baz" */

	return 0
}